{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./styles.css';import UserFooter from'./UserFooter';import SearchBar from'./SearchBar';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserTable=/*#__PURE__*/function(_React$Component){_inherits(UserTable,_React$Component);var _super=_createSuper(UserTable);function UserTable(){var _this;_classCallCheck(this,UserTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={selected:[],query:\"\"};_this.callBack=function(childData){var userList=_this.props.users;userList.push(childData);_this.props.setUsers(userList);_this.props.setLog(\"added new admin '\"+childData.username+\"'\");};_this.queryCallBack=function(childData){_this.setState({query:childData});};_this.removeUser=function(user){var filteredUsers=_this.props.users.filter(function(u){return u!==user;});_this.props.setUsers(filteredUsers);_this.props.setLog(\"deleted user '\"+user.username+\"'\");};_this.handleChange=function(user){var selectedList=_this.state.selected;var find=selectedList.indexOf(user);if(find>-1){selectedList.splice(find,1);}else{selectedList.push(user);}_this.setState({selected:selectedList});};_this.deleteSelected=function(){var selected=_this.state.selected;var userList=_this.props.users;var _iterator=_createForOfIteratorHelper(selected),_step;try{var _loop=function _loop(){var user=_step.value;var filteredList=userList.filter(function(u){return u!==user;});userList=filteredList;_this.props.setLog(\"deleted user '\"+user.username+\"'\");};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({selected:[]});_this.props.setUsers(userList);};_this.filterUsers=function(users,query){if(query===\"\"){return _this.tableData(_this.props.users);}var lowerQuery=query.toLowerCase();var filteredList=users.filter(function(user){var username=user.username.toLowerCase();return username.includes(lowerQuery);});return _this.tableData(filteredList);};_this.tableData=function(searchResult){return searchResult.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(){return _this.handleChange(user);}})}),/*#__PURE__*/_jsx(\"td\",{id:\"inputText\",children:user.username}),/*#__PURE__*/_jsx(\"td\",{id:\"inputText\",children:user.userType}),/*#__PURE__*/_jsx(\"td\",{id:\"inputText\",children:user.name}),/*#__PURE__*/_jsx(\"td\",{id:\"inputText\",children:user.lastLogIn}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/ProfileSettingsView\",children:/*#__PURE__*/_jsx(\"button\",{type:\"edit\",children:\"Edit\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/ProfileView\",children:/*#__PURE__*/_jsx(\"button\",{type:\"view\",children:\"View\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"select\",onClick:function onClick(){return _this.removeUser(user);},children:\"Delete\"})})]},user.username);});};return _this;}_createClass(UserTable,[{key:\"tableHeader\",value:function tableHeader(){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{id:\"inputText\",children:\" Select \"}),/*#__PURE__*/_jsx(\"th\",{id:\"inputText\",children:\" Username \"}),/*#__PURE__*/_jsx(\"th\",{id:\"inputText\",children:\" Type \"}),/*#__PURE__*/_jsx(\"th\",{id:\"inputText\",children:\" Name \"}),/*#__PURE__*/_jsx(\"th\",{id:\"inputText\",children:\" Last Log In \"}),/*#__PURE__*/_jsx(\"th\",{id:\"inputText\",children:\" Edit \"}),/*#__PURE__*/_jsx(\"th\",{id:\"inputText\",children:\" View \"}),/*#__PURE__*/_jsx(\"th\",{id:\"inputText\",children:\" Delete \"})]});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"box-title\",children:\"User Management\"}),/*#__PURE__*/_jsx(SearchBar,{parentCallBack:this.queryCallBack}),/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[this.tableHeader(),this.filterUsers(this.props.users,this.state.query)]})}),/*#__PURE__*/_jsx(UserFooter,{parentCallBack:this.callBack,deleteSelected:this.deleteSelected})]});}}]);return UserTable;}(React.Component);export default UserTable;","map":{"version":3,"sources":["C:/Users/tuu18/Documents/csc309/team63/client/src/components/AdminComponents/UserTable.js"],"names":["React","UserFooter","SearchBar","Link","UserTable","state","selected","query","callBack","childData","userList","props","users","push","setUsers","setLog","username","queryCallBack","setState","removeUser","user","filteredUsers","filter","u","handleChange","selectedList","find","indexOf","splice","deleteSelected","filteredList","filterUsers","tableData","lowerQuery","toLowerCase","includes","searchResult","map","userType","name","lastLogIn","tableHeader","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './styles.css';\r\nimport UserFooter from './UserFooter';\r\nimport SearchBar from './SearchBar';\r\nimport {Link } from \"react-router-dom\";\r\n\r\nclass UserTable extends React.Component {\r\n    state = {\r\n        selected: [],\r\n        query: \"\"\r\n    }\r\n\r\n    callBack = (childData) => {\r\n        const userList = this.props.users \r\n        userList.push(childData)\r\n        this.props.setUsers(userList)\r\n        this.props.setLog(\"added new admin '\" + childData.username + \"'\")\r\n    }\r\n\r\n    queryCallBack = (childData) => {\r\n        this.setState({\r\n            query: childData\r\n        })\r\n    }\r\n\r\n    tableHeader() {\r\n        return(\r\n            <tr>\r\n                <th id='inputText'> Select </th>\r\n\t \t\t\t<th id='inputText'> Username </th>\r\n                <th id='inputText'> Type </th>\r\n\t \t\t\t<th id='inputText'> Name </th>\r\n\t \t\t\t<th id='inputText'> Last Log In </th>\r\n                <th id='inputText'> Edit </th>\r\n                <th id='inputText'> View </th>\r\n                <th id='inputText'> Delete </th>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    removeUser = (user) => {\r\n        const filteredUsers = this.props.users.filter((u) => { return u !== user })\r\n        this.props.setUsers(filteredUsers)\r\n        this.props.setLog(\"deleted user '\" + user.username + \"'\")\r\n    }\r\n\r\n    handleChange = (user) => {\r\n        const selectedList = this.state.selected\r\n        const find = selectedList.indexOf(user)\r\n      \r\n        if (find > -1) {\r\n          selectedList.splice(find, 1)\r\n        } else {\r\n          selectedList.push(user)\r\n        }\r\n      \r\n        this.setState({\r\n            selected: selectedList\r\n        })\r\n    }\r\n\r\n    deleteSelected = () => {\r\n        const selected = this.state.selected\r\n        let userList = this.props.users\r\n        for (let user of selected ) {\r\n            let filteredList = userList.filter((u) => { return u !== user })\r\n            userList = filteredList\r\n            this.props.setLog(\"deleted user '\" + user.username + \"'\")\r\n        }\r\n        this.setState({\r\n            selected: []\r\n        })\r\n        this.props.setUsers(userList)\r\n    }\r\n\r\n    filterUsers = (users, query) => {\r\n        if (query === \"\") {\r\n            return this.tableData(this.props.users)\r\n        }\r\n\r\n        const lowerQuery = query.toLowerCase()\r\n\r\n        const filteredList =  users.filter((user) => {\r\n            const username = user.username.toLowerCase();\r\n            return username.includes(lowerQuery);\r\n        })\r\n\r\n        return this.tableData(filteredList)\r\n    };\r\n\r\n\r\n    tableData = (searchResult) => {\r\n        return searchResult.map((user) => {\r\n            return (\r\n                <tr key= {user.username}>\r\n                    <td><input type=\"checkbox\" onChange={ () => this.handleChange(user) }/></td>\r\n                    <td id='inputText'>{user.username}</td>\r\n                    <td id='inputText'>{user.userType}</td>\r\n                    <td id='inputText'>{user.name}</td>\r\n                    <td id='inputText'>{user.lastLogIn}</td>\r\n                    <td><Link to=\"/ProfileSettingsView\"><button type=\"edit\">Edit</button></Link></td>\r\n                    <td><Link to=\"/ProfileView\"><button type=\"view\">View</button></Link></td>\r\n                    <td><button type=\"select\" onClick={ () => this.removeUser(user) }>Delete</button></td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n   render() { \r\n      return (\r\n        <div className=\"table-container\">\r\n            <h3 className=\"box-title\">User Management</h3>\r\n                <SearchBar parentCallBack={ this.queryCallBack }/>\r\n                <table className='table'>\r\n                <tbody>\r\n                        { this.tableHeader() }\r\n                        { this.filterUsers(this.props.users, this.state.query) }\r\n                </tbody>\r\n                </table>\r\n                <UserFooter parentCallBack={ this.callBack } deleteSelected = { this.deleteSelected}/>\r\n        </div>\r\n      )\r\n   }\r\n}\r\n\r\nexport default UserTable"]},"metadata":{},"sourceType":"module"}