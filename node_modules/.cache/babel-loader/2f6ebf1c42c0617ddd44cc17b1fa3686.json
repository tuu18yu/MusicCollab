{"ast":null,"code":"import _slicedToArray from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import\"./styles.css\";import ProfileSideNav from'../ProfileSideNav';import ReportPopup from'../ReportPopup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProfileHeader(props){var _useState=useState('+ Follow'),_useState2=_slicedToArray(_useState,2),followBtnVal=_useState2[0],setFollowBtnVal=_useState2[1];var _useState3=useState('follow-btn'),_useState4=_slicedToArray(_useState3,2),followBtnId=_useState4[0],setFollowBtnId=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),reportPopupTrigger=_useState6[0],setReportPopupTrigger=_useState6[1];var handleReport=function handleReport(){setReportPopupTrigger(!reportPopupTrigger);};//This function is here temporarily to switch between external and profile view\nvar handleViewChange=function handleViewChange(){props.toggleView();};var handleFollow=function handleFollow(){//a post request will be made to the server to update the current user's follow list\nif(followBtnVal==='+ Follow'){setFollowBtnVal('Unfollow');setFollowBtnId('unfollow-btn');}else{setFollowBtnVal('+ Follow');setFollowBtnId('follow-btn');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-header no-overflow\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"hidden-container\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"profile-photo\",src:props.currentUser.imgSrc,alt:\"User Profile\"}),/*#__PURE__*/_jsx(\"h2\",{id:\"profile-name\",children:props.currentUser.profileName}),/*#__PURE__*/_jsx(\"br\",{}),props.externalView&&/*#__PURE__*/_jsx(\"button\",{id:followBtnId,className:\"btn\",onClick:handleFollow,children:followBtnVal}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ProfileSideNav,{page:props.page,currentUser:props.currentUser,externalView:props.externalView}),/*#__PURE__*/_jsx(\"br\",{}),props.page==='profile'&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleViewChange,children:props.externalView?'Internal View':'External View'})]}),props.externalView&&/*#__PURE__*/_jsxs(\"div\",{id:\"overflow-container\",children:[/*#__PURE__*/_jsx(ReportPopup,{trigger:reportPopupTrigger,handleTrigger:handleReport}),/*#__PURE__*/_jsx(\"button\",{id:\"report-btn\",className:\"btn\",onClick:handleReport,children:\"Report\"})]})]});}export default ProfileHeader;","map":{"version":3,"sources":["C:/Users/tuu18/Documents/csc309/team63/client/src/components/ProfileHeader/index.js"],"names":["React","useState","ProfileSideNav","ReportPopup","ProfileHeader","props","followBtnVal","setFollowBtnVal","followBtnId","setFollowBtnId","reportPopupTrigger","setReportPopupTrigger","handleReport","handleViewChange","toggleView","handleFollow","currentUser","imgSrc","profileName","externalView","page"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,MAAO,cAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,C,wFAGA,QAASC,CAAAA,aAAT,CAAwBC,KAAxB,CAA+B,CAE3B,cAAwCJ,QAAQ,CAAC,UAAD,CAAhD,wCAAOK,YAAP,eAAqBC,eAArB,eACA,eAAsCN,QAAQ,CAAC,YAAD,CAA9C,yCAAOO,WAAP,eAAoBC,cAApB,eACA,eAAoDR,QAAQ,CAAC,KAAD,CAA5D,yCAAOS,kBAAP,eAA2BC,qBAA3B,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBD,qBAAqB,CAAC,CAACD,kBAAF,CAArB,CACH,CAFD,CAIA;AACA,GAAMG,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC3BR,KAAK,CAACS,UAAN,GACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB;AACA,GAAGT,YAAY,GAAK,UAApB,CAAgC,CAC5BC,eAAe,CAAC,UAAD,CAAf,CACAE,cAAc,CAAC,cAAD,CAAd,CAEH,CAJD,IAIO,CACHF,eAAe,CAAC,UAAD,CAAf,CACAE,cAAc,CAAC,YAAD,CAAd,CAEH,CACJ,CAXD,CAaA,mBACI,aAAK,SAAS,CAAC,4BAAf,wBACI,aAAK,EAAE,CAAC,kBAAR,wBAEA,YAAK,EAAE,CAAC,eAAR,CAAwB,GAAG,CAAEJ,KAAK,CAACW,WAAN,CAAkBC,MAA/C,CAAuD,GAAG,CAAE,cAA5D,EAFA,cAGA,WAAI,EAAE,CAAC,cAAP,UAAuBZ,KAAK,CAACW,WAAN,CAAkBE,WAAzC,EAHA,cAIA,aAJA,CAKCb,KAAK,CAACc,YAAN,eAAsB,eAAQ,EAAE,CAAEX,WAAZ,CAAyB,SAAS,CAAC,KAAnC,CAAyC,OAAO,CAAEO,YAAlD,UAAiET,YAAjE,EALvB,cAMA,aANA,cAOA,aAPA,cAQA,KAAC,cAAD,EAAgB,IAAI,CAAED,KAAK,CAACe,IAA5B,CAAkC,WAAW,CAAEf,KAAK,CAACW,WAArD,CAAkE,YAAY,CAAEX,KAAK,CAACc,YAAtF,EARA,cASA,aATA,CAWCd,KAAK,CAACe,IAAN,GAAe,SAAf,eAA4B,eAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAEP,gBAAjC,UAAoDR,KAAK,CAACc,YAAN,CAAqB,eAArB,CAAsC,eAA1F,EAX7B,GADJ,CAcKd,KAAK,CAACc,YAAN,eACI,aAAK,EAAE,CAAC,oBAAR,wBACG,KAAC,WAAD,EAAa,OAAO,CAAET,kBAAtB,CAA0C,aAAa,CAAEE,YAAzD,EADH,cAEG,eAAQ,EAAE,CAAC,YAAX,CAAwB,SAAS,CAAC,KAAlC,CAAwC,OAAO,CAAEA,YAAjD,oBAFH,GAfT,GADJ,CAuBH,CASD,cAAeR,CAAAA,aAAf","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport \"./styles.css\";\nimport ProfileSideNav from '../ProfileSideNav';\nimport ReportPopup from '../ReportPopup';\n\n\nfunction ProfileHeader (props) {\n\n    const [followBtnVal, setFollowBtnVal] = useState('+ Follow');\n    const [followBtnId, setFollowBtnId] = useState('follow-btn');\n    const [reportPopupTrigger, setReportPopupTrigger] = useState(false);\n\n    const handleReport = () => {\n        setReportPopupTrigger(!reportPopupTrigger);\n    };\n\n    //This function is here temporarily to switch between external and profile view\n    const handleViewChange = () => {\n        props.toggleView();\n    };\n\n    const handleFollow = () => {\n        //a post request will be made to the server to update the current user's follow list\n        if(followBtnVal === '+ Follow') {\n            setFollowBtnVal('Unfollow');\n            setFollowBtnId('unfollow-btn');\n        \n        } else {\n            setFollowBtnVal('+ Follow');\n            setFollowBtnId('follow-btn');\n\n        }\n    };\n\n    return(\n        <div className=\"profile-header no-overflow\">\n            <div id=\"hidden-container\">\n            \n            <img id=\"profile-photo\" src={props.currentUser.imgSrc} alt={\"User Profile\"}/>\n            <h2 id=\"profile-name\">{props.currentUser.profileName}</h2>\n            <br/>\n            {props.externalView && <button id={followBtnId} className=\"btn\" onClick={handleFollow}>{followBtnVal}</button>}\n            <br/>\n            <br/>\n            <ProfileSideNav page={props.page} currentUser={props.currentUser} externalView={props.externalView}/>\n            <br/>\n\n            {props.page === 'profile' && <button className=\"btn\" onClick={handleViewChange}>{props.externalView ? 'Internal View': 'External View'}</button>}\n            </div>\n            {props.externalView && \n                (<div id=\"overflow-container\">\n                    <ReportPopup trigger={reportPopupTrigger} handleTrigger={handleReport}/>\n                    <button id=\"report-btn\" className=\"btn\" onClick={handleReport}>Report</button>\n                </div>)}\n        </div>\n\n    )\n}\n\nProfileHeader.propTypes = {\n    externalView: PropTypes.bool,\n    currentUser: PropTypes.object,\n    page: PropTypes.string,\n    toggleView: PropTypes.func\n};\n\nexport default ProfileHeader;\n"]},"metadata":{},"sourceType":"module"}