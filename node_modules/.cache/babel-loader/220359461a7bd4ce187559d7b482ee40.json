{"ast":null,"code":"import _slicedToArray from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import\"./styles.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProfileContent(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];var _useState3=useState('Edit'),_useState4=_slicedToArray(_useState3,2),editBtnVal=_useState4[0],setEditBtnVal=_useState4[1];var _useState5=useState(props.currentUser.bio),_useState6=_slicedToArray(_useState5,2),bio=_useState6[0],setBio=_useState6[1];var generateWorks=function generateWorks(works){if(!works)return;return works.map(function(work,idx){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"img\",{src:work.imgSrc,alt:\"work cover\"}),/*#__PURE__*/_jsx(Link,{className:\"profile-works-link\",to:{pathname:'/coverpage',id:work.id},children:work.title})]},idx);});};var generateInterests=function generateInterests(list){if(!list)return;return list.map(function(interest,idx){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"btn\",children:interest})},idx);});};var handleEdit=function handleEdit(){if(editMode===false){setEditMode(true);setEditBtnVal('Save');}else{//on Save a post request will be made to the server with the new bio\nsetEditMode(false);setEditBtnVal('Edit');}};var handleCancel=function handleCancel(){setEditMode(false);setEditBtnVal('Edit');setBio(props.currentUser.bio);};var worksBox=function worksBox(){return/*#__PURE__*/_jsxs(\"div\",{className:\"large-dark-box\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"box-title\",children:\"Works\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-works\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"small-works-list\",children:generateWorks(props.currentUser.works)})})]});};var handleTextChange=function handleTextChange(e){setBio(e.target.value);};var bioBox=function bioBox(){return/*#__PURE__*/_jsxs(\"div\",{className:props.externalView?\"tall-small-dark-box\":\"small-dark-box height-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"box-title\",children:\"Biography\"}),/*#__PURE__*/_jsx(\"div\",{id:\"bio-container\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"bio-text-box\",name:\"biography\",value:bio,onChange:handleTextChange,readOnly:props.externalView||!props.externalView&&!editMode})}),!props.externalView&&/*#__PURE__*/_jsxs(\"div\",{className:\"bio-btns\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"box-btn margin-left\",onClick:handleEdit,children:editBtnVal}),editMode&&/*#__PURE__*/_jsx(\"button\",{className:\"box-btn red-box-btn\",onClick:handleCancel,children:\"Cancel\"})]})]});};var interestsBox=function interestsBox(){return/*#__PURE__*/_jsxs(\"div\",{className:\"tall-small-dark-box\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"box-title\",children:\"Interests\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"interests-list\",children:generateInterests(props.currentUser.interests)})]});};var downloadsBox=function downloadsBox(){return/*#__PURE__*/_jsxs(\"div\",{className:\"small-dark-box height-300\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"box-title\",children:\"Downloads\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-works\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"small-works-list\",children:generateWorks(props.currentUser.downloadedWorks)})})]});};return/*#__PURE__*/_jsxs(\"div\",{id:\"profile-content\",children:[!props.externalView&&bioBox(),props.externalView&&/*#__PURE__*/_jsxs(\"div\",{id:\"top-profile-content\",children:[bioBox(),interestsBox()]}),!props.externalView&&downloadsBox(),worksBox()]});}export default ProfileContent;","map":{"version":3,"sources":["C:/Users/tuu18/Documents/csc309/team63/client/src/components/ProfileContent/index.js"],"names":["React","useState","Link","ProfileContent","props","editMode","setEditMode","editBtnVal","setEditBtnVal","currentUser","bio","setBio","generateWorks","works","map","work","idx","imgSrc","pathname","id","title","generateInterests","list","interest","handleEdit","handleCancel","worksBox","handleTextChange","e","target","value","bioBox","externalView","interestsBox","interests","downloadsBox","downloadedWorks"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,cAAP,C,wFAGA,QAASC,CAAAA,cAAT,CAAyBC,KAAzB,CAAgC,CAE5B,cAA+BH,QAAQ,CAAC,KAAD,CAAvC,wCAAMI,QAAN,eAAgBC,WAAhB,eACA,eAAmCL,QAAQ,CAAC,MAAD,CAA3C,yCAAMM,UAAN,eAAkBC,aAAlB,eACA,eAAqBP,QAAQ,CAACG,KAAK,CAACK,WAAN,CAAkBC,GAAnB,CAA7B,yCAAMA,GAAN,eAAWC,MAAX,eAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC7B,GAAG,CAACA,KAAJ,CAAW,OACX,MAAOA,CAAAA,KAAK,CAACC,GAAN,CAAU,SAACC,IAAD,CAAOC,GAAP,CAAe,CAC5B,mBACI,mCACI,YAAK,GAAG,CAAED,IAAI,CAACE,MAAf,CAAuB,GAAG,CAAC,YAA3B,EADJ,cAEI,KAAC,IAAD,EAAM,SAAS,CAAC,oBAAhB,CAAqC,EAAE,CAAE,CACrCC,QAAQ,CAAC,YAD4B,CAErCC,EAAE,CAAEJ,IAAI,CAACI,EAF4B,CAAzC,UAGIJ,IAAI,CAACK,KAHT,EAFJ,GAASJ,GAAT,CADJ,CASH,CAVM,CAAP,CAYH,CAdD,CAgBA,GAAMK,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,IAAD,CAAU,CAChC,GAAG,CAACA,IAAJ,CAAU,OAEV,MAAOA,CAAAA,IAAI,CAACR,GAAL,CAAS,SAACS,QAAD,CAAWP,GAAX,CAAmB,CAC/B,mBACI,iCACI,UAAG,SAAS,CAAC,KAAb,UAAoBO,QAApB,EADJ,EAASP,GAAT,CADJ,CAKH,CANM,CAAP,CAQH,CAXD,CAaA,GAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAGnB,QAAQ,GAAK,KAAhB,CAAuB,CACnBC,WAAW,CAAC,IAAD,CAAX,CACAE,aAAa,CAAC,MAAD,CAAb,CACH,CAHD,IAGO,CACH;AACAF,WAAW,CAAC,KAAD,CAAX,CACAE,aAAa,CAAC,MAAD,CAAb,CACH,CACJ,CATD,CAWA,GAAMiB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBnB,WAAW,CAAC,KAAD,CAAX,CACAE,aAAa,CAAC,MAAD,CAAb,CACAG,MAAM,CAACP,KAAK,CAACK,WAAN,CAAkBC,GAAnB,CAAN,CACH,CAJD,CAMA,GAAMgB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAAE,mBACG,aAAK,SAAS,CAAC,gBAAf,wBACI,WAAI,SAAS,CAAC,WAAd,mBADJ,cAEI,YAAK,SAAS,CAAC,eAAf,uBACI,WAAI,SAAS,CAAC,kBAAd,UACCd,aAAa,CAACR,KAAK,CAACK,WAAN,CAAkBI,KAAnB,CADd,EADJ,EAFJ,GADH,CAStB,CATH,CAWA,GAAMc,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,CAAD,CAAO,CAC5BjB,MAAM,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN,CACH,CAFD,CAIA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CAAE,mBACK,aAAK,SAAS,CAAE3B,KAAK,CAAC4B,YAAN,CAAqB,qBAArB,CAA6C,2BAA7D,wBACI,WAAI,SAAS,CAAC,WAAd,uBADJ,cAEI,YAAK,EAAE,CAAC,eAAR,uBACI,iBAAU,SAAS,CAAC,cAApB,CAAmC,IAAI,CAAC,WAAxC,CAAoD,KAAK,CAAEtB,GAA3D,CAAgE,QAAQ,CAAEiB,gBAA1E,CACI,QAAQ,CAAEvB,KAAK,CAAC4B,YAAN,EAAuB,CAAC5B,KAAK,CAAC4B,YAAP,EAAuB,CAAC3B,QAD7D,EADJ,EAFJ,CAMK,CAACD,KAAK,CAAC4B,YAAP,eACI,aAAK,SAAS,CAAC,UAAf,wBACG,eAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAER,UAAjD,UAA8DjB,UAA9D,EADH,CAEIF,QAAQ,eAAI,eAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAEoB,YAAjD,oBAFhB,GAPT,GADL,CAcpB,CAdH,CAgBA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAAE,mBACD,aAAK,SAAS,CAAC,qBAAf,wBACI,WAAI,SAAS,CAAC,WAAd,uBADJ,cAEI,WAAI,SAAS,CAAC,gBAAd,UACKZ,iBAAiB,CAACjB,KAAK,CAACK,WAAN,CAAkByB,SAAnB,CADtB,EAFJ,GADC,CAO1B,CAPH,CASA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAAE,mBACzB,aAAK,SAAS,CAAC,2BAAf,wBACI,WAAI,SAAS,CAAC,WAAd,uBADJ,cAEI,YAAK,SAAS,CAAC,eAAf,uBACI,WAAI,SAAS,CAAC,kBAAd,UACKvB,aAAa,CAACR,KAAK,CAACK,WAAN,CAAkB2B,eAAnB,CADlB,EADJ,EAFJ,GADyB,CAS1B,CATH,CAaA,mBACI,aAAK,EAAE,CAAC,iBAAR,WACK,CAAChC,KAAK,CAAC4B,YAAP,EAAuBD,MAAM,EADlC,CAEK3B,KAAK,CAAC4B,YAAN,eACI,aAAK,EAAE,CAAC,qBAAR,WACID,MAAM,EADV,CAEIE,YAAY,EAFhB,GAHT,CAOK,CAAC7B,KAAK,CAAC4B,YAAP,EAAuBG,YAAY,EAPxC,CAQKT,QAAQ,EARb,GADJ,CAeH,CAOD,cAAevB,CAAAA,cAAf","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport \"./styles.css\";\n\n\nfunction ProfileContent (props) {\n\n    const[editMode, setEditMode] = useState(false);\n    const[editBtnVal, setEditBtnVal] = useState('Edit');\n    const[bio, setBio] = useState(props.currentUser.bio)\n\n    const generateWorks = (works) => {\n        if(!works) return;\n        return works.map((work, idx) => {\n            return (\n                <li key={idx}>\n                    <img src={work.imgSrc} alt='work cover'/>\n                    <Link className=\"profile-works-link\" to={{\n                        pathname:'/coverpage',\n                        id: work.id\n                    }}>{work.title}</Link> \n                </li>\n            );   \n        });\n    \n    };\n\n    const generateInterests = (list) => {\n        if(!list) return;\n\n        return list.map((interest, idx) => {\n            return (\n                <li key={idx}>\n                    <p className=\"btn\">{interest}</p>\n                </li>\n            );   \n        });\n    \n    };\n\n    const handleEdit = () => {\n        if(editMode === false) {\n            setEditMode(true);\n            setEditBtnVal('Save');\n        } else {\n            //on Save a post request will be made to the server with the new bio\n            setEditMode(false);\n            setEditBtnVal('Edit');\n        }\n    }\n\n    const handleCancel = () => {\n        setEditMode(false);\n        setEditBtnVal('Edit');\n        setBio(props.currentUser.bio);\n    }\n\n    const worksBox = () => { return (\n                                <div className=\"large-dark-box\">\n                                    <h3 className=\"box-title\">Works</h3>\n                                    <div className=\"profile-works\">\n                                        <ul className=\"small-works-list\">\n                                        {generateWorks(props.currentUser.works)}\n                                        </ul>\n                                    </div>\n                                </div>\n    );};\n\n    const handleTextChange = (e) => {\n        setBio(e.target.value);\n    }\n\n    const bioBox = () => { return (\n                                <div className={props.externalView ? \"tall-small-dark-box\" : \"small-dark-box height-200\"}>\n                                    <h3 className=\"box-title\">Biography</h3>\n                                    <div id=\"bio-container\">\n                                        <textarea className=\"bio-text-box\" name=\"biography\" value={bio} onChange={handleTextChange}\n                                            readOnly={props.externalView || (!props.externalView && !editMode)}/>\n                                    </div>\n                                    {!props.externalView && \n                                        (<div className=\"bio-btns\">\n                                            <button className=\"box-btn margin-left\" onClick={handleEdit}>{editBtnVal}</button>\n                                            {editMode && <button className=\"box-btn red-box-btn\" onClick={handleCancel}>Cancel</button>}\n                                        </div>)\n                                    }\n                                </div>\n    );};\n\n    const interestsBox = () => { return (\n                                <div className=\"tall-small-dark-box\">\n                                    <h3 className=\"box-title\">Interests</h3>\n                                    <ul className=\"interests-list\">\n                                        {generateInterests(props.currentUser.interests)}\n                                    </ul>\n                                    </div>\n    );};\n\n    const downloadsBox = () => { return ( \n        <div className=\"small-dark-box height-300\">\n            <h3 className=\"box-title\">Downloads</h3>\n            <div className=\"profile-works\">\n                <ul className=\"small-works-list\">\n                    {generateWorks(props.currentUser.downloadedWorks)}\n                </ul>\n            </div>\n        </div>\n    );};\n\n\n\n    return (\n        <div id=\"profile-content\">\n            {!props.externalView && bioBox()}\n            {props.externalView && \n                (<div id=\"top-profile-content\">\n                    {bioBox()}\n                    {interestsBox()}\n                </div>)}\n            {!props.externalView && downloadsBox()}      \n            {worksBox()}\n\n            \n        </div>\n    )\n\n}\n\nProfileContent.propTypes = {\n    currentUser: PropTypes.object,\n    externalView: PropTypes.bool,\n}\n\nexport default ProfileContent;"]},"metadata":{},"sourceType":"module"}