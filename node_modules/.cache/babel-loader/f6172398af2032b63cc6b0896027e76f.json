{"ast":null,"code":"import _slicedToArray from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import\"./styles.css\";import ProfileSideNav from'../ProfileSideNav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProfileSettingsHeader(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),photoChanged=_useState2[0],setPhotoChanged=_useState2[1];var _useState3=useState(props.currentUser.imgSrc),_useState4=_slicedToArray(_useState3,2),profileImageSrc=_useState4[0],setProfileImageSrc=_useState4[1];var handleImgChange=function handleImgChange(event){var image=event.target.files[0];if(image){setProfileImageSrc(URL.createObjectURL(image));setPhotoChanged(true);}};var handleSave=function handleSave(){//a post call will be made to send the new profile photo to the server\nsetPhotoChanged(false);};var handleCancel=function handleCancel(){setPhotoChanged(false);setProfileImageSrc(props.currentUser.imgSrc);};return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-header\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"profile-photo-container\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"profile-photo\",src:profileImageSrc,alt:\"User Profile\"}),/*#__PURE__*/_jsx(\"label\",{id:\"change-photo-label\",htmlFor:\"photo\",children:\"Change Photo\"}),/*#__PURE__*/_jsx(\"input\",{id:\"photo\",type:\"file\",accept:\".png, .jpg, .jpeg\",onChange:handleImgChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"save-cancel-container\",children:[photoChanged&&/*#__PURE__*/_jsx(\"button\",{className:\"box-btn\",onClick:handleSave,children:\"Save\"}),photoChanged&&/*#__PURE__*/_jsx(\"button\",{className:\"box-btn red-box-btn\",onClick:handleCancel,children:\"Cancel\"})]}),/*#__PURE__*/_jsx(\"h2\",{id:\"username\",children:props.currentUser.username}),/*#__PURE__*/_jsx(\"label\",{className:\"header-sub-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ProfileSideNav,{page:'settings',currentUser:props.currentUser,externalView:false})]});}export default ProfileSettingsHeader;","map":{"version":3,"sources":["C:/Users/tuu18/Documents/csc309/team63/client/src/components/ProfileSettingsHeader/index.js"],"names":["React","useState","ProfileSideNav","ProfileSettingsHeader","props","photoChanged","setPhotoChanged","currentUser","imgSrc","profileImageSrc","setProfileImageSrc","handleImgChange","event","image","target","files","URL","createObjectURL","handleSave","handleCancel","username"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,MAAO,cAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,mBAA3B,C,wFAEA,QAASC,CAAAA,qBAAT,CAAgCC,KAAhC,CAAuC,CAEnC,cAAwCH,QAAQ,CAAC,KAAD,CAAhD,wCAAOI,YAAP,eAAqBC,eAArB,eACA,eAA8CL,QAAQ,CAACG,KAAK,CAACG,WAAN,CAAkBC,MAAnB,CAAtD,yCAAOC,eAAP,eAAwBC,kBAAxB,eAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/B,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAd,CACA,GAAGF,KAAH,CAAU,CACNH,kBAAkB,CAACM,GAAG,CAACC,eAAJ,CAAoBJ,KAApB,CAAD,CAAlB,CACAP,eAAe,CAAC,IAAD,CAAf,CACH,CACJ,CAND,CAQA,GAAMY,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB;AACAZ,eAAe,CAAC,KAAD,CAAf,CACH,CAHD,CAKA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBb,eAAe,CAAC,KAAD,CAAf,CACAI,kBAAkB,CAACN,KAAK,CAACG,WAAN,CAAkBC,MAAnB,CAAlB,CACH,CAHD,CAKA,mBACQ,aAAK,SAAS,CAAC,gBAAf,wBACI,aAAK,EAAE,CAAC,yBAAR,wBACI,YAAK,EAAE,CAAC,eAAR,CAAwB,GAAG,CAAEC,eAA7B,CAA8C,GAAG,CAAE,cAAnD,EADJ,cAEI,cAAO,EAAE,CAAC,oBAAV,CAA+B,OAAO,CAAC,OAAvC,0BAFJ,cAGI,cAAO,EAAE,CAAC,OAAV,CAAkB,IAAI,CAAC,MAAvB,CAA8B,MAAM,CAAC,mBAArC,CAAyD,QAAQ,CAAEE,eAAnE,EAHJ,GADJ,cAMI,aAAK,SAAS,CAAC,uBAAf,WACKN,YAAY,eAAI,eAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAEa,UAArC,kBADrB,CAEKb,YAAY,eAAI,eAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAEc,YAAjD,oBAFrB,GANJ,cAUI,WAAI,EAAE,CAAC,UAAP,UAAmBf,KAAK,CAACG,WAAN,CAAkBa,QAArC,EAVJ,cAWI,cAAO,SAAS,CAAC,kBAAjB,sBAXJ,cAYI,aAZJ,cAaI,aAbJ,cAcI,aAdJ,cAeI,aAfJ,cAgBI,KAAC,cAAD,EAAgB,IAAI,CAAE,UAAtB,CAAkC,WAAW,CAAEhB,KAAK,CAACG,WAArD,CAAkE,YAAY,CAAE,KAAhF,EAhBJ,GADR,CAoBH,CASD,cAAeJ,CAAAA,qBAAf","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport \"./styles.css\";\nimport ProfileSideNav from '../ProfileSideNav';\n\nfunction ProfileSettingsHeader (props) {\n\n    const [photoChanged, setPhotoChanged] = useState(false);\n    const [profileImageSrc, setProfileImageSrc] = useState(props.currentUser.imgSrc);\n   \n    const handleImgChange = (event) => {\n        const image = event.target.files[0];\n        if(image) {\n            setProfileImageSrc(URL.createObjectURL(image));\n            setPhotoChanged(true);\n        }\n    }\n\n    const handleSave = () => {\n        //a post call will be made to send the new profile photo to the server\n        setPhotoChanged(false);\n    }\n\n    const handleCancel = () => {\n        setPhotoChanged(false);\n        setProfileImageSrc(props.currentUser.imgSrc);\n    }\n\n    return (\n            <div className=\"profile-header\">\n                <div id=\"profile-photo-container\">\n                    <img id=\"profile-photo\" src={profileImageSrc} alt={\"User Profile\"}/>\n                    <label id=\"change-photo-label\" htmlFor=\"photo\">Change Photo</label>\n                    <input id=\"photo\" type=\"file\" accept=\".png, .jpg, .jpeg\" onChange={handleImgChange}/>\n                </div>\n                <div className=\"save-cancel-container\" >\n                    {photoChanged && <button className=\"box-btn\" onClick={handleSave}>Save</button>}\n                    {photoChanged && <button className=\"box-btn red-box-btn\" onClick={handleCancel}>Cancel</button>}\n                </div>\n                <h2 id=\"username\">{props.currentUser.username}</h2>\n                <label className=\"header-sub-label\">Username</label>        \n                <br/>\n                <br/>\n                <br/>\n                <br/>\n                <ProfileSideNav page={'settings'} currentUser={props.currentUser} externalView={false}/>\n            </div> \n        );\n}\n\n\nProfileSettingsHeader.propTypes = {\n    currentUser: PropTypes.object,\n    imgSrc: PropTypes.string,\n    handleImgChange: PropTypes.func\n};\n\nexport default ProfileSettingsHeader;"]},"metadata":{},"sourceType":"module"}