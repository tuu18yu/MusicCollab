{"ast":null,"code":"import _slicedToArray from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import\"./styles.css\";import ReportPopup from'../ReportPopup';import{Link}from\"react-router-dom\";import AudioPlayer from'react-h5-audio-player';import'react-h5-audio-player/lib/styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CoverHeader(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),reportPopupTrigger=_useState2[0],setReportPopupTrigger=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLiked=_useState4[0],setIsLiked=_useState4[1];// const checkLiked = () => {\n//     const likedList = props.currentUser.likedWorks\n//     for (let work of likedList) {\n//         if (work.id === props.currentPost.id) {\n//             setIsLiked({isLiked: true})\n//         }\n//     }\n// }\nvar likePost=function likePost(){return setIsLiked(!isLiked);};var handleReport=function handleReport(){setReportPopupTrigger(!reportPopupTrigger);};var handleViewChange=function handleViewChange(){props.toggleView();};var generateTags=function generateTags(list){if(!list)return;return list.map(function(interest,idx){return/*#__PURE__*/_jsx(\"li\",{className:\"hashtag-cover-page\",id:\"descriptionTags\",children:'#'+interest},idx);});};var generateGenres=function generateGenres(list){if(!list)return;return list.map(function(interest,idx){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"btn\",children:interest})},idx);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"cover-no-overflow\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"cover-photo\",src:props.currentPost.imgSrc,alt:\"Song Cover\"}),/*#__PURE__*/_jsxs(\"h3\",{id:\"profile-name\",children:[props.currentPost.artist,\" - \",props.currentPost.title]}),/*#__PURE__*/_jsx(AudioPlayer,{src:props.currentPost.audio}),/*#__PURE__*/_jsx(\"div\",{id:\"coverButtons2\",children:/*#__PURE__*/_jsx(\"button\",{id:\"like-btn\",className:\"btn\",onClick:likePost,children:isLiked?'Like':'Unlike'})}),/*#__PURE__*/_jsxs(\"div\",{id:\"description-box\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"box-title\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{id:\"description-text\",children:props.currentPost.description}),/*#__PURE__*/_jsx(\"ul\",{id:\"interests-list\",className:\"no-left-padding\",children:generateTags(props.currentPost.tags)}),/*#__PURE__*/_jsx(\"ul\",{id:\"interests-list1\",children:generateGenres(props.currentPost.categories)})]}),/*#__PURE__*/_jsx(ReportPopup,{trigger:reportPopupTrigger,handleTrigger:handleReport}),/*#__PURE__*/_jsxs(\"div\",{id:\"coverButtons\",children:[props.externalView&&/*#__PURE__*/_jsx(\"a\",{href:props.currentPost.audio,id:\"download-btn\",className:\"btn\",download:true,children:\"Download\"}),/*#__PURE__*/_jsx(Link,{to:\"Features\",id:\"timeline-btn\",className:\"btn\",children:\"Features\"}),props.externalView&&/*#__PURE__*/_jsx(\"button\",{id:\"report-btn\",className:\"btn\",onClick:handleReport,children:\"Report\"}),!props.externalView&&/*#__PURE__*/_jsx(Link,{to:\"/CoverPageSettings\",id:\"edit-btn\",className:\"btn\",children:\"Edit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),props.page==='cover'&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleViewChange,children:props.externalView?'Internal View':'External View'})]});}export default CoverHeader;","map":{"version":3,"sources":["C:/Users/tuu18/Documents/csc309/team63/client/src/components/CoverHeader/index.js"],"names":["React","useState","ReportPopup","Link","AudioPlayer","CoverHeader","props","reportPopupTrigger","setReportPopupTrigger","isLiked","setIsLiked","likePost","handleReport","handleViewChange","toggleView","generateTags","list","map","interest","idx","generateGenres","currentPost","imgSrc","artist","title","audio","description","tags","categories","externalView","page"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport \"./styles.css\";\nimport ReportPopup from '../ReportPopup';\nimport {Link } from \"react-router-dom\";\nimport AudioPlayer from 'react-h5-audio-player';\nimport 'react-h5-audio-player/lib/styles.css';\n\n\nfunction CoverHeader (props) {\n\n    const [reportPopupTrigger, setReportPopupTrigger] = useState(false);\n\n    const [isLiked, setIsLiked] = useState(false);\n\n\n    // const checkLiked = () => {\n    //     const likedList = props.currentUser.likedWorks\n    //     for (let work of likedList) {\n    //         if (work.id === props.currentPost.id) {\n    //             setIsLiked({isLiked: true})\n    //         }\n    //     }\n    // }\n\n    const likePost = () => setIsLiked(!isLiked)\n\n    const handleReport = () => {\n        setReportPopupTrigger(!reportPopupTrigger);\n    };\n\n\n    const handleViewChange = () => {\n        props.toggleView();\n    };\n\n    const generateTags = (list) => {\n        if(!list) return;\n\n        return list.map((interest, idx) => {\n            return (\n                <li className=\"hashtag-cover-page\" key={idx} id='descriptionTags'>\n                    {'#'+ interest}\n                </li>\n            );   \n        });\n    \n    };\n\n    const generateGenres = (list) => {\n        if(!list) return;\n\n        return list.map((interest, idx) => {\n            return (\n                <li key={idx}>\n                    <p className=\"btn\">{interest}</p>\n                </li>\n            );   \n        });\n    \n    };\n\n\n    return(\n        <div className=\"cover-no-overflow\">\n                <img id=\"cover-photo\" src={props.currentPost.imgSrc} alt={\"Song Cover\"}/>\n                <h3 id=\"profile-name\">{props.currentPost.artist} - {props.currentPost.title}</h3>\n                <AudioPlayer\n                    src={props.currentPost.audio}\n                />\n                <div id=\"coverButtons2\">\n                    <button id=\"like-btn\" className=\"btn\" onClick={likePost}>{isLiked ? 'Like':'Unlike'}</button>\n                </div>\n                 <div id=\"description-box\">\n                    <h3 className=\"box-title\">Description</h3>\n                    <p id=\"description-text\">{props.currentPost.description}</p>\n                    <ul id=\"interests-list\" className=\"no-left-padding\">\n                        {generateTags(props.currentPost.tags)}\n                    </ul>\n                    <ul id=\"interests-list1\">\n                        {generateGenres(props.currentPost.categories)}\n                    </ul>\n                </div>\n            <ReportPopup trigger={reportPopupTrigger} handleTrigger={handleReport}/>\n            <div id=\"coverButtons\">\n                {props.externalView && <a href={props.currentPost.audio} id=\"download-btn\" className=\"btn\" download>Download</a>}\n                <Link to=\"Features\" id=\"timeline-btn\" className=\"btn\">Features</Link>\n                {props.externalView && <button id=\"report-btn\" className=\"btn\" onClick={handleReport}>Report</button>}\n                {!props.externalView && <Link to=\"/CoverPageSettings\" id=\"edit-btn\" className=\"btn\">Edit</Link>}\n            </div>\n            <br/>\n            {props.page === 'cover' && <button className=\"btn\" onClick={handleViewChange}>{props.externalView ? 'Internal View': 'External View'}</button>}\n        </div>\n\n    )\n}\n\nCoverHeader.propTypes = {\n    externalView: PropTypes.bool,\n    currentPost: PropTypes.object,\n    currentUser: PropTypes.object,\n    setWork: PropTypes.func,\n    page: PropTypes.string,\n    toggleView: PropTypes.func,\n};\n\nexport default CoverHeader;\n"]},"metadata":{},"sourceType":"module"}