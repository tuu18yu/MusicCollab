{"ast":null,"code":"import _defineProperty from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/tuu18/Documents/csc309/team63/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import\"./styles.css\";import SelectCategories from'../SelectCategories';import FormRow from'../FormRow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProfileSettingsContent(props){var defaultProfileInputs={profileName:props.currentUser.profileName,email:props.currentUser.email,interests:props.currentUser.interests};var defaultPasswordInput={oldPassword:\"\",newPassword:\"\",confirmPassword:\"\"};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editProfile=_useState2[0],setEditProfile=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),changePassword=_useState4[0],setChangePassword=_useState4[1];var _useState5=useState(defaultProfileInputs),_useState6=_slicedToArray(_useState5,2),profileFormInputs=_useState6[0],setProfileFormInputs=_useState6[1];var _useState7=useState(defaultPasswordInput),_useState8=_slicedToArray(_useState7,2),passwordFormInputs=_useState8[0],setPasswordFormInputs=_useState8[1];var handleInputChange=function handleInputChange(event){var name=event.target.name;var value=event.target.value;setProfileFormInputs(function(inputs){return _objectSpread(_objectSpread({},inputs),{},_defineProperty({},name,value));});};var handleInterestChange=function handleInterestChange(interestList){var name='interests';setProfileFormInputs(function(inputs){return _objectSpread(_objectSpread({},inputs),{},_defineProperty({},name,interestList));});};var handleEdit=function handleEdit(event){//on save changes a post request will be made to the server with the profile form inputs\nevent.preventDefault();setEditProfile(!editProfile);};var handlePasswordInputChange=function handlePasswordInputChange(event){var name=event.target.name;var value=event.target.value;setPasswordFormInputs(function(inputs){return _objectSpread(_objectSpread({},inputs),{},_defineProperty({},name,value));});};var handlePasswordChange=function handlePasswordChange(event){event.preventDefault();if(changePassword){if(passwordFormInputs.oldPassword!==props.currentUser.password){return alert(\"Wrong password!\");}else if(passwordFormInputs.newPassword!==passwordFormInputs.confirmPassword){return alert(\"Passwords don't match!\");}else{setPasswordFormInputs(defaultPasswordInput);}}//a post request will be made to the server with the new password\nsetChangePassword(!changePassword);};var handlePasswordCancel=function handlePasswordCancel(){setChangePassword(!changePassword);setPasswordFormInputs(defaultPasswordInput);};var handleProfileCancel=function handleProfileCancel(){setEditProfile(!editProfile);setProfileFormInputs(defaultProfileInputs);};var profileClass=\"input-box\"+(!editProfile?\" disable\":\"\");var passwordClass=\"input-box\"+(!changePassword?\" disable\":\"\");return/*#__PURE__*/_jsxs(\"div\",{id:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"header-container\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Profile Settings\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"settings-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"Profile\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"profile-form\",children:[/*#__PURE__*/_jsx(FormRow,{label:\"Profile Name\",type:\"text\",className:profileClass,value:profileFormInputs.profileName,handleChange:handleInputChange,name:\"profileName\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FormRow,{label:\"Email\",type:\"text\",className:profileClass,value:profileFormInputs.email,handleChange:handleInputChange,name:\"email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",children:\"Interests\"}),/*#__PURE__*/_jsx(SelectCategories,{selectedValues:profileFormInputs.interests,disabled:!editProfile,handleSelect:handleInterestChange})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",form:\"profile-form\",className:\"btn section-btn\",id:\"change-profile-info-btn\",onClick:handleEdit,children:editProfile?'Save Changes':'Edit'}),editProfile&&/*#__PURE__*/_jsx(\"button\",{className:\"btn section-btn settings-cancel-btn\",onClick:handleProfileCancel,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{id:\"password-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"password-form\",children:[/*#__PURE__*/_jsx(FormRow,{label:\"Old Password\",type:\"password\",className:passwordClass,value:passwordFormInputs.oldPassword,handleChange:handlePasswordInputChange,name:\"oldPassword\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FormRow,{label:\"New Password\",type:\"password\",className:passwordClass,value:passwordFormInputs.newPassword,handleChange:handlePasswordInputChange,name:\"newPassword\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FormRow,{label:\"Confirm Password\",type:\"password\",className:passwordClass,value:passwordFormInputs.confirmPassword,handleChange:handlePasswordInputChange,name:\"confirmPassword\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",form:\"password-form\",className:\"btn section-btn\",onClick:handlePasswordChange,children:changePassword?'Save password':'Change Password'}),changePassword&&/*#__PURE__*/_jsx(\"button\",{className:\"btn section-btn settings-cancel-btn\",onClick:handlePasswordCancel,children:\"Cancel\"})]})]})]});}export default ProfileSettingsContent;","map":{"version":3,"sources":["C:/Users/tuu18/Documents/csc309/team63/client/src/components/ProfileSettingsContent/index.js"],"names":["React","useState","SelectCategories","FormRow","ProfileSettingsContent","props","defaultProfileInputs","profileName","currentUser","email","interests","defaultPasswordInput","oldPassword","newPassword","confirmPassword","editProfile","setEditProfile","changePassword","setChangePassword","profileFormInputs","setProfileFormInputs","passwordFormInputs","setPasswordFormInputs","handleInputChange","event","name","target","value","inputs","handleInterestChange","interestList","handleEdit","preventDefault","handlePasswordInputChange","handlePasswordChange","password","alert","handlePasswordCancel","handleProfileCancel","profileClass","passwordClass"],"mappings":"6eAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,MAAO,cAAP,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qBAA7B,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,C,wFAGA,QAASC,CAAAA,sBAAT,CAAiCC,KAAjC,CAAwC,CAEpC,GAAMC,CAAAA,oBAAoB,CAAG,CACzBC,WAAW,CAAEF,KAAK,CAACG,WAAN,CAAkBD,WADN,CAEzBE,KAAK,CAAEJ,KAAK,CAACG,WAAN,CAAkBC,KAFA,CAGzBC,SAAS,CAAEL,KAAK,CAACG,WAAN,CAAkBE,SAHJ,CAA7B,CAMA,GAAMC,CAAAA,oBAAoB,CAAG,CACzBC,WAAW,CAAE,EADY,CAEzBC,WAAW,CAAE,EAFY,CAGzBC,eAAe,CAAE,EAHQ,CAA7B,CAMA,cAAsCb,QAAQ,CAAC,KAAD,CAA9C,wCAAOc,WAAP,eAAoBC,cAApB,eACA,eAA4Cf,QAAQ,CAAC,KAAD,CAApD,yCAAOgB,cAAP,eAAuBC,iBAAvB,eACA,eAAkDjB,QAAQ,CAACK,oBAAD,CAA1D,yCAAOa,iBAAP,eAA0BC,oBAA1B,eACA,eAAoDnB,QAAQ,CAACU,oBAAD,CAA5D,yCAAOU,kBAAP,eAA2BC,qBAA3B,eAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAW,CACjC,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CACA,GAAME,CAAAA,KAAK,CAAGH,KAAK,CAACE,MAAN,CAAaC,KAA3B,CACAP,oBAAoB,CAAC,SAAAQ,MAAM,wCAASA,MAAT,wBAAkBH,IAAlB,CAAyBE,KAAzB,IAAP,CAApB,CACH,CAJD,CAMA,GAAME,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,YAAD,CAAkB,CAC3C,GAAML,CAAAA,IAAI,CAAG,WAAb,CACAL,oBAAoB,CAAC,SAAAQ,MAAM,wCAASA,MAAT,wBAAkBH,IAAlB,CAAyBK,YAAzB,IAAP,CAApB,CACH,CAHD,CAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACP,KAAD,CAAW,CAC1B;AACAA,KAAK,CAACQ,cAAN,GACAhB,cAAc,CAAC,CAACD,WAAF,CAAd,CAEH,CALD,CAOA,GAAMkB,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,CAACT,KAAD,CAAW,CACzC,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CACA,GAAME,CAAAA,KAAK,CAAGH,KAAK,CAACE,MAAN,CAAaC,KAA3B,CACAL,qBAAqB,CAAC,SAAAM,MAAM,wCAASA,MAAT,wBAAkBH,IAAlB,CAAyBE,KAAzB,IAAP,CAArB,CACH,CAJD,CAOA,GAAMO,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACV,KAAD,CAAW,CACpCA,KAAK,CAACQ,cAAN,GACA,GAAGf,cAAH,CAAmB,CACf,GAAGI,kBAAkB,CAACT,WAAnB,GAAmCP,KAAK,CAACG,WAAN,CAAkB2B,QAAxD,CAAkE,CAC9D,MAAOC,CAAAA,KAAK,CAAC,iBAAD,CAAZ,CACH,CAFD,IAEO,IAAGf,kBAAkB,CAACR,WAAnB,GAAmCQ,kBAAkB,CAACP,eAAzD,CAA0E,CAC7E,MAAOsB,CAAAA,KAAK,CAAC,wBAAD,CAAZ,CACH,CAFM,IAEA,CACHd,qBAAqB,CAACX,oBAAD,CAArB,CACH,CACJ,CACD;AACAO,iBAAiB,CAAC,CAACD,cAAF,CAAjB,CAEH,CAdD,CAgBA,GAAMoB,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CAC/BnB,iBAAiB,CAAC,CAACD,cAAF,CAAjB,CACAK,qBAAqB,CAACX,oBAAD,CAArB,CACH,CAHD,CAKA,GAAM2B,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAC9BtB,cAAc,CAAC,CAACD,WAAF,CAAd,CACAK,oBAAoB,CAACd,oBAAD,CAApB,CACH,CAHD,CAKA,GAAMiC,CAAAA,YAAY,CAAG,aAAe,CAACxB,WAAD,CAAe,UAAf,CAA4B,EAA3C,CAArB,CAEA,GAAMyB,CAAAA,aAAa,CAAG,aAAe,CAACvB,cAAD,CAAkB,UAAlB,CAA+B,EAA9C,CAAtB,CAGA,mBACI,aAAK,EAAE,CAAC,WAAR,wBACI,YAAK,EAAE,CAAC,kBAAR,uBACI,WAAI,SAAS,CAAC,YAAd,8BADJ,EADJ,cAKI,aAAK,EAAE,CAAC,oBAAR,wBACI,WAAI,SAAS,CAAC,eAAd,qBADJ,cAEI,cAAM,EAAE,CAAC,cAAT,wBACI,KAAC,OAAD,EAAS,KAAK,CAAE,cAAhB,CAAgC,IAAI,CAAE,MAAtC,CAA8C,SAAS,CAAEsB,YAAzD,CAAuE,KAAK,CAAEpB,iBAAiB,CAACZ,WAAhG,CACI,YAAY,CAAEgB,iBADlB,CACqC,IAAI,CAAE,aAD3C,EADJ,cAGI,aAHJ,cAII,KAAC,OAAD,EAAS,KAAK,CAAE,OAAhB,CAAyB,IAAI,CAAE,MAA/B,CAAuC,SAAS,CAAEgB,YAAlD,CAAgE,KAAK,CAAEpB,iBAAiB,CAACV,KAAzF,CACI,YAAY,CAAEc,iBADlB,CACqC,IAAI,CAAE,OAD3C,EAJJ,cAMI,aANJ,cAOI,aAAK,SAAS,CAAC,KAAf,wBACI,cAAO,SAAS,CAAC,aAAjB,uBADJ,cAEI,KAAC,gBAAD,EAAkB,cAAc,CAAEJ,iBAAiB,CAACT,SAApD,CAA+D,QAAQ,CAAE,CAACK,WAA1E,CAAuF,YAAY,CAAEc,oBAArG,EAFJ,GAPJ,GAFJ,cAcI,aAdJ,cAeI,eAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,cAA3B,CAA0C,SAAS,CAAC,iBAApD,CAAsE,EAAE,CAAC,yBAAzE,CAAmG,OAAO,CAAEE,UAA5G,UACIhB,WAAW,CAAG,cAAH,CAAoB,MADnC,EAfJ,CAkBKA,WAAW,eAAI,eAAQ,SAAS,CAAC,qCAAlB,CAAwD,OAAO,CAAEuB,mBAAjE,oBAlBpB,cAoBI,aApBJ,cAqBI,aArBJ,cAuBI,aAAK,EAAE,CAAC,oBAAR,wBACI,WAAI,SAAS,CAAC,eAAd,sBADJ,cAEI,cAAM,EAAE,CAAC,eAAT,wBACI,KAAC,OAAD,EAAS,KAAK,CAAE,cAAhB,CAAgC,IAAI,CAAE,UAAtC,CAAkD,SAAS,CAAEE,aAA7D,CAA4E,KAAK,CAAEnB,kBAAkB,CAACT,WAAtG,CACI,YAAY,CAAEqB,yBADlB,CAC6C,IAAI,CAAE,aADnD,EADJ,cAGI,aAHJ,cAII,KAAC,OAAD,EAAS,KAAK,CAAE,cAAhB,CAAgC,IAAI,CAAE,UAAtC,CAAkD,SAAS,CAAEO,aAA7D,CAA4E,KAAK,CAAEnB,kBAAkB,CAACR,WAAtG,CACI,YAAY,CAAEoB,yBADlB,CAC6C,IAAI,CAAE,aADnD,EAJJ,cAMI,aANJ,cAOI,KAAC,OAAD,EAAS,KAAK,CAAE,kBAAhB,CAAoC,IAAI,CAAE,UAA1C,CAAsD,SAAS,CAAEO,aAAjE,CAAgF,KAAK,CAAEnB,kBAAkB,CAACP,eAA1G,CACI,YAAY,CAAEmB,yBADlB,CAC6C,IAAI,CAAE,iBADnD,EAPJ,GAFJ,cAYI,aAZJ,cAaI,eAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,eAA3B,CAA2C,SAAS,CAAC,iBAArD,CAAuE,OAAO,CAAEC,oBAAhF,UACKjB,cAAc,CAAG,eAAH,CAAqB,iBADxC,EAbJ,CAgBKA,cAAc,eAAI,eAAQ,SAAS,CAAC,qCAAlB,CAAwD,OAAO,CAAEoB,oBAAjE,oBAhBvB,GAvBJ,GALJ,GADJ,CAkDH,CAOD,cAAejC,CAAAA,sBAAf","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport \"./styles.css\";\nimport SelectCategories from '../SelectCategories';\nimport FormRow from '../FormRow';\n\n\nfunction ProfileSettingsContent (props) {\n\n    const defaultProfileInputs = {\n        profileName: props.currentUser.profileName,\n        email: props.currentUser.email,\n        interests: props.currentUser.interests\n    };\n\n    const defaultPasswordInput = {\n        oldPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\"\n    };\n\n    const [editProfile, setEditProfile] = useState(false);\n    const [changePassword, setChangePassword] = useState(false);\n    const [profileFormInputs, setProfileFormInputs] = useState(defaultProfileInputs);\n    const [passwordFormInputs, setPasswordFormInputs] = useState(defaultPasswordInput);\n\n    const handleInputChange = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n        setProfileFormInputs(inputs => ({...inputs, [name]: value}))\n    }\n\n    const handleInterestChange = (interestList) => {\n        const name = 'interests';\n        setProfileFormInputs(inputs => ({...inputs, [name]: interestList}))\n    }\n\n    const handleEdit = (event) => {\n        //on save changes a post request will be made to the server with the profile form inputs\n        event.preventDefault();\n        setEditProfile(!editProfile);\n        \n    };\n\n    const handlePasswordInputChange = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n        setPasswordFormInputs(inputs => ({...inputs, [name]: value}))\n    }\n\n\n    const handlePasswordChange = (event) => {\n        event.preventDefault();\n        if(changePassword) {\n            if(passwordFormInputs.oldPassword !== props.currentUser.password) {\n                return alert(\"Wrong password!\");\n            } else if(passwordFormInputs.newPassword !== passwordFormInputs.confirmPassword) {\n                return alert(\"Passwords don't match!\");\n            } else {\n                setPasswordFormInputs(defaultPasswordInput);\n            }\n        }\n        //a post request will be made to the server with the new password\n        setChangePassword(!changePassword);\n        \n    };\n\n    const handlePasswordCancel = () => {\n        setChangePassword(!changePassword);\n        setPasswordFormInputs(defaultPasswordInput);\n    };\n\n    const handleProfileCancel = () => {\n        setEditProfile(!editProfile);\n        setProfileFormInputs(defaultProfileInputs);\n    };\n\n    const profileClass = \"input-box\" + (!editProfile ? \" disable\" : \"\");\n\n    const passwordClass = \"input-box\" + (!changePassword ? \" disable\" : \"\");\n\n\n    return (\n        <div id=\"container\">\n            <div id=\"header-container\">\n                <h1 className=\"page-title\">Profile Settings</h1>\n            </div>\n\n            <div id=\"settings-container\">\n                <h3 className=\"section-title\">Profile</h3>\n                <form id=\"profile-form\">\n                    <FormRow label={\"Profile Name\"} type={\"text\"} className={profileClass} value={profileFormInputs.profileName} \n                        handleChange={handleInputChange} name={\"profileName\"}/>\n                    <br/>\n                    <FormRow label={\"Email\"} type={\"text\"} className={profileClass} value={profileFormInputs.email} \n                        handleChange={handleInputChange} name={\"email\"}/>\n                    <br/>\n                    <div className=\"row\">\n                        <label className=\"input-label\">Interests</label>\n                        <SelectCategories selectedValues={profileFormInputs.interests} disabled={!editProfile} handleSelect={handleInterestChange}/>\n                       </div>\n                </form>\n                <br/>\n                <button type=\"submit\" form=\"profile-form\" className=\"btn section-btn\" id=\"change-profile-info-btn\" onClick={handleEdit}>\n                   {editProfile ? 'Save Changes' : 'Edit'}\n                </button>\n                {editProfile && <button className=\"btn section-btn settings-cancel-btn\" onClick={handleProfileCancel}>Cancel</button>}\n                \n                <br/>\n                <br/>\n\n                <div id=\"password-container\">\n                    <h3 className=\"section-title\">Password</h3>\n                    <form id=\"password-form\">\n                        <FormRow label={\"Old Password\"} type={\"password\"} className={passwordClass} value={passwordFormInputs.oldPassword} \n                            handleChange={handlePasswordInputChange} name={\"oldPassword\"}/>\n                        <br/>\n                        <FormRow label={\"New Password\"} type={\"password\"} className={passwordClass} value={passwordFormInputs.newPassword} \n                            handleChange={handlePasswordInputChange} name={\"newPassword\"}/>\n                        <br/>\n                        <FormRow label={\"Confirm Password\"} type={\"password\"} className={passwordClass} value={passwordFormInputs.confirmPassword} \n                            handleChange={handlePasswordInputChange} name={\"confirmPassword\"}/>\n                    </form>\n                    <br/>\n                    <button type=\"submit\" form=\"password-form\" className=\"btn section-btn\" onClick={handlePasswordChange}>\n                        {changePassword ? 'Save password' : 'Change Password'}\n                    </button>\n                    {changePassword && <button className=\"btn section-btn settings-cancel-btn\" onClick={handlePasswordCancel}>Cancel</button>}\n                </div>\n            </div>\n        </div>      \n    );\n}\n    \n\nProfileSettingsContent.propTypes = {\n    currentUser: PropTypes.object\n};\n\nexport default ProfileSettingsContent;"]},"metadata":{},"sourceType":"module"}